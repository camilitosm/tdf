<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Real Football Trivia</title>
  <style>
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Arial,Helvetica,sans-serif;
      background:linear-gradient(180deg,#0b132b,#1c2541);
      color:#fff;
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
    }
    .app{width:100%;max-width:750px;padding:16px}
    h1{text-align:center;margin-bottom:10px}
    .info{text-align:center;margin-bottom:10px}
    .card{background:#1c2541;padding:16px;border-radius:12px}
    button{
      width:100%;padding:12px;margin:6px 0;border:none;
      border-radius:10px;font-size:1rem;cursor:pointer;
      background:#3a86ff;color:#fff
    }
    button:hover{opacity:.9}
    input{
      width:100%;padding:12px;margin-top:10px;
      border-radius:10px;border:none;font-size:1rem
    }
    .timer{width:100%;height:14px;background:#415a77;border-radius:10px;margin-bottom:10px;overflow:hidden}
    .timer div{height:100%;width:100%;background:#ffd166;transition:width 1s linear;animation:pulse 1s infinite}
    @keyframes pulse{0%{opacity:1}50%{opacity:.6}100%{opacity:1}}
    @keyframes winPop{0%{transform:scale(.5);opacity:0}60%{transform:scale(1.1)}100%{transform:scale(1);opacity:1}}
    @keyframes loseShake{0%{transform:translateX(0)}25%{transform:translateX(-6px)}50%{transform:translateX(6px)}75%{transform:translateX(-6px)}100%{transform:translateX(0)}}
    .win{animation:winPop .8s ease-out;text-align:center}
    .lose{animation:loseShake .6s;text-align:center;color:#ff6b6b}
    .medal{font-size:1.2rem;margin-right:6px}
  </style>
</head>
<body>
<div class="app">
  <h1>‚öΩ Real Football Trivia ‚öΩ</h1>
  <div id="status" class="info"></div>
  <div id="timer" class="timer"><div id="timerFill"></div></div>
  <div id="game" class="card"></div>
</div>

<script>
let username='';
let i=0;
let score=0;
let tries=2;
let time=17;
let timerInterval;

const lockKey='rft_lock';

function locked(){
  const until=localStorage.getItem(lockKey);
  if(!until) return false;
  return Date.now()<parseInt(until);
}

function lockGame(){
  const until=Date.now()+(24*60*60*1000);
  localStorage.setItem(lockKey,until);
}

function norm(t){return t.toLowerCase().trim();}

const questions=[
{q:"¬øQui√©n es el √∫nico jugador que gan√≥ el Bal√≥n de Oro jugando para tres clubes distintos?",o:["Ninguno","Cruyff","Cristiano Ronaldo"],a:"ninguno"},
{q:"¬øQu√© arquero qued√≥ en el podio del Bal√≥n de Oro en el siglo XXI?",o:["Manuel Neuer","Buffon","Casillas"],a:"manuel neuer"},
{q:"¬øQui√©n gan√≥ el Bal√≥n de Oro jugando en segunda divisi√≥n esa temporada?",o:["Kevin Keegan","Rivaldo","Ronaldo"],a:"kevin keegan"},
{q:"¬øPrimer no europeo en ganar el Bal√≥n de Oro?",o:["George Weah","Pel√©","Maradona"],a:"george weah"},
{q:"R√©cord de goles en un a√±o natural (91)?",o:["Messi","Cristiano","Pel√©"],a:"messi"},
{q:"√önico en ganar Bota de Oro en 3 ligas?",o:["Cristiano Ronaldo","Messi","Su√°rez"],a:"cristiano ronaldo"},
{q:"¬øQu√© futbolista gan√≥ el Bal√≥n de Oro sin jugar en liga europea?",o:["Ninguno","Pel√©","Maradona"],a:"ninguno"},
{q:"M√°ximo goleador hist√≥rico de selecciones?",o:["Cristiano Ronaldo","Messi","Ali Daei"],a:"cristiano ronaldo"},
{q:"Jugador que gan√≥ Mundial, Champions y Bal√≥n de Oro el mismo a√±o?",o:["Ronaldinho","Kak√°","Rivaldo"],a:"ronaldinho"},
{q:"Primer arquero en ganar Jugador del A√±o UEFA?",o:["Buffon","Neuer","Casillas"],a:"buffon"},
{q:"Selecci√≥n presente en todos los Mundiales?",o:["Brasil","Alemania","Italia"],a:"brasil"},
{q:"Jugador con m√°s partidos en Mundiales?",o:["Messi","Maldini","Matth√§us"],a:"messi"},
{q:"Pa√≠s con m√°s finales perdidas sin ganar?",o:["Pa√≠ses Bajos","Hungr√≠a","Croacia"],a:"pa√≠ses bajos"},
{q:"Gol m√°s r√°pido en Mundiales?",o:["Hakan S√ºk√ºr","Ronaldo","Messi"],a:"hakan s√ºk√ºr"},
{q:"Jugador que anot√≥ en 5 Copas del Mundo?",o:["Cristiano Ronaldo","Messi","Klose"],a:"cristiano ronaldo"},
{q:"M√°ximo goleador en una edici√≥n de Mundial?",o:["Just Fontaine","Ronaldo","Klose"],a:"just fontaine"},
{q:"Selecci√≥n que gan√≥ Mundial con DT extranjero?",o:["Ninguna","Espa√±a","Francia"],a:"ninguna"},
{q:"√önico jugador con 3 Mundiales?",o:["Pel√©","Maradona","Beckenbauer"],a:"pel√©"},
{q:"Primer Mundial con tarjetas?",o:["M√©xico 1970","1966","1974"],a:"m√©xico 1970"},
{q:"Selecci√≥n con m√°s rojas en Mundiales?",o:["Brasil","Argentina","Italia"],a:"brasil"},
{q:"Club con m√°s Champions despu√©s del Madrid?",o:["AC Milan","Liverpool","Bayern"],a:"ac milan"},
{q:"M√°ximo goleador hist√≥rico Champions?",o:["Cristiano Ronaldo","Messi","Lewandowski"],a:"cristiano ronaldo"},
{q:"Entrenador con Champions en 3 equipos?",o:["Ancelotti","Guardiola","Mourinho"],a:"ancelotti"},
{q:"Primer club brit√°nico campe√≥n de Europa?",o:["Celtic","Manchester United","Liverpool"],a:"celtic"},
{q:"Jugador con Champions en 3 clubes?",o:["Seedorf","Cristiano","Ibrahimovic"],a:"seedorf"},
{q:"Equipo con 3 finales consecutivas perdidas?",o:["Ninguno","Juventus","Valencia"],a:"ninguno"},
{q:"M√°ximo goleador hist√≥rico Real Madrid?",o:["Cristiano Ronaldo","Ra√∫l","Di St√©fano"],a:"cristiano ronaldo"},
{q:"Primer club en ganar Sextete?",o:["Barcelona","Bayern","Inter"],a:"barcelona"},
{q:"Jugador que marc√≥ en 2 finales con distintos equipos?",o:["Cristiano Ronaldo","Eto'o","Mandzukic"],a:"cristiano ronaldo"},
{q:"Estadio del Milagro de Estambul?",o:["Atat√ºrk","Wembley","San Siro"],a:"atat√ºrk"},
{q:"Jugador expulsado antes de debutar en selecci√≥n?",o:["Messi","Maradona","Ronaldo"],a:"messi"},
{q:"√önico invicto Premier 38 partidos?",o:["Arsenal","Chelsea","United"],a:"arsenal"},
{q:"Jugador en 5 continentes?",o:["Pfannenstiel","Beckham","Rivaldo"],a:"pfannenstiel"},
{q:"Club m√°s antiguo del mundo?",o:["Sheffield FC","Notts County","G√©nova"],a:"sheffield fc"},
{q:"M√°s Libertadores ganadas por jugador?",o:["Francisco S√°","Riquelme","Bochini"],a:"francisco s√°"},
{q:"R√©cord de invicto selecciones?",o:["Italia","Brasil","Espa√±a"],a:"italia"},
{q:"Distancia del penal?",o:["11 metros","10 metros","12 metros"],a:"11 metros"},
{q:"Eurocopa sin clasificar originalmente?",o:["Dinamarca","Grecia","Portugal"],a:"dinamarca"},
{q:"M√°s tarjetas rojas profesional?",o:["Gerardo Bedoya","Pepe","Sergio Ramos"],a:"gerardo bedoya"},
{q:"M√≠nimo jugadores para no suspender?",o:["7","8","6"],a:"7"},
{q:"Argentino con m√°s Libertadores?",o:["Independiente","Boca","River"],a:"independiente"},
{q:"M√°ximo goleador Libertadores?",o:["Alberto Spencer","Palermo","Zico"],a:"alberto spencer"},
{q:"Primera Copa Am√©rica?",o:["1916","1920","1900"],a:"1916"},
{q:"Sudamericano sin Mundial?",o:["Venezuela","Bolivia","Per√∫"],a:"venezuela"},
{q:"Goleador Argentina despu√©s de Messi?",o:["Batistuta","Ag√ºero","Higua√≠n"],a:"batistuta"},
{q:"Club apodado El Cervecero?",o:["Quilmes","Lan√∫s","Banfield"],a:"quilmes"},
{q:"DT Argentina 1986?",o:["Bilardo","Menotti","Basile"],a:"bilardo"},
{q:"Final Mundial 1930 estadio?",o:["Centenario","Maracan√°","Azteca"],a:"centenario"},
{q:"Uruguayo Enzo √≠dolo de Zidane?",o:["Francescoli","Recoba","Forl√°n"],a:"francescoli"},
{q:"Gol decisivo final 1978?",o:["Bertoni","Kempes","Passarella"],a:"bertoni"}
];

function render(){
  clearInterval(timerInterval);
  time=10;
  tries=2;
  document.getElementById('timerFill').style.width='100%';
  timerInterval=setInterval(tick,1000);

  document.getElementById('status').innerText=
  `Pregunta ${i+1}/${questions.length} ¬∑ ‚≠ê ${score} pts ¬∑ Intentos:${tries}`;

  const q=questions[i];
  let h=`<h3>${q.q}</h3>`;
  q.o.forEach(op=>h+=`<button onclick="check('${op}')">${op}</button>`);
  h+=`<input id='txt' placeholder='Escrib√≠ tu respuesta'>`;
  h+=`<button onclick="check(document.getElementById('txt').value)">Responder</button>`;
  document.getElementById('game').innerHTML=h;
}

function check(v){
  if(norm(v)===questions[i].a){
    clearInterval(timerInterval);
    score+=8;
    i++;

    if(score>=400||i>=questions.length){winGame();return}
    render();
  }else{
    tries--;
    if(tries<=0){loseGame();return}
    document.getElementById('status').innerText=
    `Pregunta ${i+1}/${questions.length} ¬∑ ‚≠ê ${score} pts ¬∑ Intentos:${tries}`;
  }
}

function tick(){
  time--;
  document.getElementById('timerFill').style.width=(time*10)+'%';
  if(time<=0){clearInterval(timerInterval);loseGame()}
}

function winGame(){
  saveRank();
  document.getElementById('game').innerHTML=
  `<div class='win'><h2>üèÜ ¬°GANASTE! üèÜ</h2>
  <p>Puntaje: ${score}</p>
  <button onclick='backToHome()'>Volver al men√∫</button></div>`;
}

function loseGame(){
  lockGame();
  saveRank();
  document.getElementById('game').innerHTML=
  `<div class='lose'><h2>‚ùå Perdiste</h2>
  <p>No pod√©s jugar por 24 horas</p></div>`;
}

function saveRank(){
  let r=JSON.parse(localStorage.getItem('rft_rank')||'[]');
  r.push({name:username,score});
  r.sort((a,b)=>b.score-a.score);
  r=r.slice(0,10);
  localStorage.setItem('rft_rank',JSON.stringify(r));
}

function showRank(){
  let r=JSON.parse(localStorage.getItem('rft_rank')||'[]');
  let h='<h3>üèÜ Ranking</h3>';
  r.forEach((e,i)=>{
    let medal=i===0?'ü•á':i===1?'ü•à':i===2?'ü•â':'üéñÔ∏è';
    h+=`<div><span class='medal'>${medal}</span>${i+1}. ${e.name} - ${e.score}</div>`;
  });
  h+="<button onclick='backToHome()'>‚¨Ö Volver</button>";
  document.getElementById('game').innerHTML=h;
}

function startGame(){
  if(locked()){
    document.getElementById('game').innerHTML=
    "<div class='lose'><h2>‚õî Bloqueado</h2><p>Ten√©s que esperar 24 horas desde tu √∫ltima derrota.</p></div>";
    return;
  }
  const input=document.getElementById('usernameInput').value.trim();
  if(!input){alert('Escrib√≠ un nombre');return}
  username=input;
  i=0;score=0;
  render();
}

function backToHome(){
  document.getElementById('status').innerText='';
  document.getElementById('game').innerHTML=
  `<h3>Ingres√° tu nombre</h3>
  <input id='usernameInput' placeholder='Tu nombre'>
  <button onclick='startGame()'>Jugar</button>
  <button style='background:#06d6a0' onclick='showRank()'>Ver Ranking</button>`;
}

backToHome();
</script>
</body>
</html>
